<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Haremos el seguimiento para poder hackear la máquina Curling de Hack The Box. La máquina ya se encuentra retirada de la lista activa, asi que podemos liberar su seguimiento hacking.   Para empezar, ha">
<meta property="og:type" content="article">
<meta property="og:title" content="Hack the box - Curling.">
<meta property="og:url" content="https://misalabs.com/2019/04/01/curling/index.html">
<meta property="og:site_name" content="0xbepresent">
<meta property="og:description" content="Haremos el seguimiento para poder hackear la máquina Curling de Hack The Box. La máquina ya se encuentra retirada de la lista activa, asi que podemos liberar su seguimiento hacking.   Para empezar, ha">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://misalabs.com/images/curling_1.png">
<meta property="og:image" content="https://misalabs.com/images/curling_2.png">
<meta property="og:image" content="https://misalabs.com/images/curling_3.png">
<meta property="og:image" content="https://misalabs.com/images/curling_4.png">
<meta property="og:image" content="https://misalabs.com/images/curling_5.png">
<meta property="og:image" content="https://misalabs.com/images/curling_6.png">
<meta property="og:image" content="https://misalabs.com/images/curling_7.png">
<meta property="og:image" content="https://misalabs.com/images/curling_8.png">
<meta property="og:image" content="https://misalabs.com/images/curling_9.png">
<meta property="og:image" content="https://misalabs.com/images/curling_10.png">
<meta property="og:image" content="https://misalabs.com/images/curling_11.png">
<meta property="og:image" content="https://misalabs.com/images/curling_12.png">
<meta property="og:image" content="https://misalabs.com/images/curling_13.png">
<meta property="og:image" content="https://misalabs.com/images/curling_14.png">
<meta property="og:image" content="https://misalabs.com/images/curling_15.png">
<meta property="og:image" content="https://misalabs.com/images/curling_16.png">
<meta property="article:published_time" content="2019-04-01T06:00:00.000Z">
<meta property="article:modified_time" content="2023-01-25T19:39:29.572Z">
<meta property="article:author" content="0xbepresent">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://misalabs.com/images/curling_1.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/logo_bepresent.png">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/logo_bepresent.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/logo_bepresent.png">
        
      
    
    <!-- title -->
    <title>Hack the box - Curling.</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/0xbepresent">Projects</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/0xbepresent/audits">Audits</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2023/02/02/c4_vtvl/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2017/05/30/password-seguros/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://misalabs.com/2019/04/01/curling/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://misalabs.com/2019/04/01/curling/&text=Hack the box - Curling."><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://misalabs.com/2019/04/01/curling/&title=Hack the box - Curling."><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://misalabs.com/2019/04/01/curling/&is_video=false&description=Hack the box - Curling."><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Hack the box - Curling.&body=Check out this article: https://misalabs.com/2019/04/01/curling/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://misalabs.com/2019/04/01/curling/&title=Hack the box - Curling."><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://misalabs.com/2019/04/01/curling/&title=Hack the box - Curling."><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://misalabs.com/2019/04/01/curling/&title=Hack the box - Curling."><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://misalabs.com/2019/04/01/curling/&title=Hack the box - Curling."><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://misalabs.com/2019/04/01/curling/&name=Hack the box - Curling.&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://misalabs.com/2019/04/01/curling/&t=Hack the box - Curling."><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Hack the box - Curling.
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">0xbepresent</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-04-01T06:00:00.000Z" itemprop="datePublished">2019-04-01</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>Haremos el seguimiento para poder hackear la máquina Curling de Hack The Box. La máquina ya se encuentra retirada de la lista activa, asi que podemos liberar su seguimiento hacking.</p>
<img class="center" src="/images/curling_1.png" />

<p>Para empezar, haremos NMAP sobre la IP del sitio, esto nos devolvera los puertos disponibles para la IP proporcionada:</p>
<img class="center" src="/images/curling_2.png" />

<p>Encontramos el puerto 80 y el puerto 22 abierto. Al visitar el sitio nos podemos dar cuenta que es un Joomla.</p>
<img class="center" src="/images/curling_3.png" />

<p>Después de hacer algunas busquedas y reconocimiento dentro la IP podemos ver algo raro en el “source code”, hay un secret.txt.</p>
<img class="center" src="/images/curling_4.png" />

<p>Al ver el secret.txt nos podemos dar cuenta que es un base64, asi que procedemos a hacerle un decode.</p>
<img class="center" src="/images/curling_5.png" />

<p>Esto podría ser un pass, asi que procedemos a buscar un username. Joomla tiene algunos posts, asi que al ver el autor de esos Posts podemos darnos cuenta que el username es “Floris”</p>
<img class="center" src="/images/curling_6.png" />

<p>Procedemos a hacer login dentro el Administrador Joomla y efectivamente, esas son las credenciales correctas.</p>
<p>Utilizamos un <a target="_blank" rel="noopener" href="https://github.com/rootphantomer/hack_tools_for_me/blob/master/Joomla-Shell-Upload.py">Joomla shell up</a> Y procedemos a subir una Shell</p>
<img class="center" src="/images/curling_7.png" />

<p>Haciendo un poco de enumeración, podemos ver que existe una archivo llamado password_backup</p>
<img class="center" src="/images/curling_8.png" />

<p>Al descargarlo, podemos darnos cuenta que es un “hex dump file”.</p>
<img class="center" src="/images/curling_9.png" />

<p>Al ser un hex dump, lo que procedemos hacer es convertirlo a un binario para poder ver de que se trata el archivo.</p>
<img class="center" src="/images/curling_10.png" />

<p>Nos podemos dar cuenta que es un archivo bzip2 comprimido. Al descomprimir con ayuda de bzip2 podemos ver que nos da un archivo comprimido GZip, procedemos a descomprimirlo y nos da un archivo de nuevo bzip2.</p>
<img class="center" src="/images/curling_11.png" />

<p>Despues al descomprimir, nos da un archivo TAR, despues al descomprimir nos da un archivo de text llamado password.txt</p>
<img class="center" src="/images/curling_12.png" />

<p>Al ocupar dicho password en un ssh podemos hacer login con el usuario floris.</p>
<img class="center" src="/images/curling_13.png" />

<p>Podemos hacer un cat al user.txt sin problemas.</p>
<img class="center" src="/images/curling_14.png" />

<p>Ya tenemos el user!</p>
<p>Ahora bien, mirando y haciendo enumeración dentro del server, podemos ver que hay una carpeta llamada “admin-area”, el cual tiene dos archivos, input y report. Al revisar un poco estos archivos se comportan de manera en que lo que se hay en en el archivo input (normalmente una URL), se imprimie en el report (todo el html de la URL).</p>
<img class="center" src="/images/curling_15.png" />

<p>Con esto en cuenta, podemos deducir que si escribimos en URL un path local, entoncesmuy posiblemente obtendremos su contenido.  </p>
<img class="center" src="/images/curling_16.png" />

<p>Con esto, podremos obtener root.txt!!</p>
<p>Gracias por leer!</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/0xbepresent">Projects</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/0xbepresent/audits">Audits</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://misalabs.com/2019/04/01/curling/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://misalabs.com/2019/04/01/curling/&text=Hack the box - Curling."><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://misalabs.com/2019/04/01/curling/&title=Hack the box - Curling."><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://misalabs.com/2019/04/01/curling/&is_video=false&description=Hack the box - Curling."><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Hack the box - Curling.&body=Check out this article: https://misalabs.com/2019/04/01/curling/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://misalabs.com/2019/04/01/curling/&title=Hack the box - Curling."><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://misalabs.com/2019/04/01/curling/&title=Hack the box - Curling."><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://misalabs.com/2019/04/01/curling/&title=Hack the box - Curling."><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://misalabs.com/2019/04/01/curling/&title=Hack the box - Curling."><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://misalabs.com/2019/04/01/curling/&name=Hack the box - Curling.&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://misalabs.com/2019/04/01/curling/&t=Hack the box - Curling."><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2012-2023
    0xbepresent
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/0xbepresent">Projects</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/0xbepresent/audits">Audits</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
